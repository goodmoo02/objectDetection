미니 프로젝트 - 블랙박스 만들기 I (ARM디바이스 프로그래밍)

1. 카메라, MicroSD 등 필수 디바이스들이 정상적인지 인식되는지 확인한다.
	- 디바이스 명
	- 디바이스 종류 인지 (카메라, MicroSD, USB 등)
	- 디바이스 정상 인식 확인 (새로운 드라이브 로드 확인, 
	- MicroSD 저장소 용량 확인 및 데이터 로딩
	
2. 현재 시간으로된 폴더를 생성한다.
   ex) 20180530_09  년월일시까지 폴더이름 적용
	- 기존 폴더 유무 확인
	- 현재 시간 (OS타임, H/W타임(BIOS)) 
	- OS 체크 (WINDOW, LINUX, MAC 등) => ifdef endef 
	
	- 최상위 폴더 - event 폴더 - day 폴더 or day 검색 후 목록 출력 및 선택
	                 - 상시 폴더 - day 폴더 - hour 단위 파일

	
3. 녹화를 시작하기전에 디스크 용량을 확인한다.
   폴더는 /home/pi/user/blackbox로 한다.
   용량이 부족한 경우 blackbox폴더의 하위 디렉토리중 가장 오래된
   폴더를 삭제한다.  
	- 용량 확인 및 설정 (폴더 최대사용량 제한)
	- 폴더 삭제 알고리즘(기준 - 용량, 개수, 날짜 등)
	
4. 현재 시간으로된 녹화 파일을 생성한다.
   ex) 20180530_091023.mpg 초까지 파일명에 적용
    - 파일 화질 설정 (여러 환경에서 )
	- 시작시간 ~ 저장시간 
	- 녹화 기준 (START 후, 바로 녹화 or 용량(시간) 기준 저장 후 다시 바로 녹화)
	- 메모리 관리
dram에서 녹화하다가 인체감지센서 초음파센서 감지 시 flash 메모리에 저장됨?
2~4번을 반복한다.



미니 프로잭트 - 보안 카메라 제작

PyQT5와 OpenCV를 활용하여 블랙박스의 UI프로그램을 완성한다.



PC측 구현

1. 버튼 2개 - 녹화 시작, 녹화 종료

2. 이벤트 녹화 - 인체감지센서와 초음파센서(또는 적외선 거리센서)가 
 
   동시에 감지되면 녹화를 시작하고 센서 신호가 사라진 뒤 30초 뒤에 녹화를 정지한다.

3. 특정 시간을 선택하면 그 시간의 영상을 화면에 보여준다.

4. 녹화 시작 종료 관련 로그 파일 기록

5. 센서 신호 감지 로그 파일 기록 




TX2보드 구현

1. 프로젝트1의 프로그램을 활용하여 버튼 신호 수신시 녹화 시작과 녹화 종료를 수행

2. 녹화가 종료된 파일은 소켓을 통해서 서버로 전송

3. 인체감지센서/초음파센서/적외선센서 인식하여 서버로 전달 (아두이노 보드를 활용해도 좋음)


 

 




변동 영상부분 추출하여 처리
